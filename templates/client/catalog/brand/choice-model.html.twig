
{% extends 'base.html.twig' %}

{% block title %}{{ page.title }}{% endblock %}
{% block meta_description %}{{ page.description }}{% endblock %}

{% block stylesheets %}
    <link rel='stylesheet' href='/css/catalog/auto/brand/choice-model.css'>
{% endblock %}

{% block body %}
    {% set routeParams = app.request.attributes.get('_route_params') %}
    <main class="container" ng-init="showAll = false">
        <ul class="breadcrumbs">
            <li><a class="link" href="{{ path("homepage") }}">Главная /</a></li>
            <li><a class="link" href="{{ path("show_brand_catalog_choice_brand") }}"> Каталог /</a></li>
            <li><a class="current"> {{ brand.brandEn }}</a></li>
        </ul>

        <section class="model-block">
            <h1 class="model-title">{{ page.headline1 }}</h1>
            <div class=model-text>
                <p id='text1' class='text1Hide'>{{ page.text1 | raw }}</p>
            </div>

            <div class='mod-search'>
                <form class='modform' action="#" method="get">
                    <input id="model-autocomplete" class='form7' name="search"
                           auto-сomplete-autoparus add-url="{{ path(app.request.attributes.get('_route'), routeParams) }}"
                           method-search="searchModels" identifier-field="model-autocomplete"
                           request-parameters='{"brand": "{{ brand.url }}"}'
                           placeholder="Модель авто:" type="search" >
                </form>
                <a href="{{ page.returnButtonLink }}" class="mod-avto">{{ page.returnButtonText }}</a>
            </div>

            <ul class='showMoreModel' id='brandImg5' ng-show="showAll">
                {% for model in allModels %}
                    <li>
                        <a class="mod-link mod-link-line" href="{{ path("show_brand_catalog_choice_spare_part", {"urlModel" : model.url}|merge(routeParams)) }}">
                            <span>{{ model.name }}<br>{{ model.modelRu }}</span>
                            <img src="{{ image_url(model.logo, "model") }}" alt="{{ model.name }}" title="Запчасти для {{ brand.name }} {{ model.name }}">
                        </a>
                    </li>
                {% endfor %}
            </ul>
            <ul class='showMoreModel' id='brandImg5' ng-hide="showAll">
                {% for model in popularModels %}
                    <li>
                        <a class="mod-link mod-link-line" href="{{ path("show_brand_catalog_choice_spare_part", {"urlModel" : model.url}|merge(routeParams)) }}">
                            <span>{{ model.name }}<br>{{ model.modelRu }}</span>
                            <img src="{{ image_url(model.logo, "model") }}" alt="{{ model.name }}" title="Запчасти для {{ brand.name }} {{ model.name }}">
                        </a>
                    </li>
                {% endfor %}
            </ul>

            <div ng-click="showAll = true" ng-hide="showAll" id='showAll5'>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</div>
            <div ng-click="showAll = false" ng-show="showAll" id='showAll5'>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</div>
            <h2 class='model-subtitle'>{{ page.headline2 }}</h2>
            <div class='subtext'>{{ page.text2 | raw }}</div>
        </section>
    </main>
{% endblock %}