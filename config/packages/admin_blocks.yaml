imports:
    - { resource: ./admin_blocks/city_catalog.yaml }
    - { resource: ./admin_blocks/brand_catalog.yaml }
    - { resource: ./admin_blocks/spare_part_catalog.yaml }

services:
    admin.general.main_page:
        class: App\Admin\MainPageAdmin
        arguments: [~, App\Entity\MainPage, ~]
        tags:
            - { name: sonata.admin, group: Общее, manager_type: orm, label: Главная }
        public: true

    admin.city.city:
        class: App\Admin\CityAdmin
        arguments: [~, App\Entity\City, 'App\Admin\Controller\CityAdminController', "@app.file_upload", '%upload_image_directory%', '@router']
        tags:
            - { name: sonata.admin, group: Город, manager_type: orm, label: Город, on_top: true}
        public: true

    admin.brand.brand:
        class: App\Admin\BrandAdmin
        arguments: [~, App\Entity\Brand, 'App\Admin\Controller\BrandAdminController', "@app.file_upload", '%upload_image_directory%', '@router']
        tags:
            - { name: sonata.admin, group: Марка/Модели, manager_type: orm, label: Марка }
        public: true
        calls:
            - [ addChild, ['@admin.brand.models', 'brand']]
            - [ setTemplate, [list, "admin/list_without_pager.html.twig"]]

    admin.brand.models:
        class: App\Admin\ModelAdmin
        arguments: [~, App\Entity\Model, 'App\Admin\Controller\ModelAdminController', "@app.file_upload", '%upload_image_directory%', '@router', '@doctrine.orm.entity_manager']
        tags:
            - { name: sonata.admin, group: Марка/Модели, manager_type: orm, label: Модель, show_in_dashboard: false }
        public: true
        calls:
            - [ setTemplate, [list, "admin/list_without_pager.html.twig"]]

    admin.spare_part.spare_part:
        class: App\Admin\SparePartAdmin
        arguments: [~, App\Entity\SparePart, 'App\Admin\Controller\SparePartAdminController', "@app.file_upload", '%upload_image_directory%', '@router']
        tags:
            - { name: sonata.admin, group: Запчасть, manager_type: orm, label: Запчасть, on_top: true, class: "RRRRRRRRR" }
        public: true
        calls:
            - [ setTemplate, [list, "admin/list_without_pager.html.twig"]]

    admin.add_code.head:
        class: App\Admin\HeadCodeAdmin
        arguments: [~, App\Entity\HeadCode, ~]
        tags:
            - { name: sonata.admin, group: Добавление кода, manager_type: orm, label: В head }
        public: true

    admin.add_code.body:
        class: App\Admin\BodyCodeAdmin
        arguments: [~, App\Entity\BodyCode, ~]
        tags:
            - { name: sonata.admin, group: Добавление кода, manager_type: orm, label: В body }
        public: true

    admin.file.robots_txt:
        class: App\Admin\RobotsTxtAdmin
        arguments: [~, App\Entity\FileChangeTmp, ~, '%robots_txt_file_path%']
        tags:
            - { name: sonata.admin, group: Редактирование файлов, manager_type: orm, label: Редактор robots.txt }
        public: true

    admin.file.site_map_xml:
        class: App\Admin\SiteMapXmlAdmin
        arguments: [~, App\Entity\FileChangeTmp, ~, '%site_map_xml_file_path%']
        tags:
            - { name: sonata.admin, group: Редактирование файлов, manager_type: orm, label: Статический sitemap }
        public: true

    admin.user.users:
        class: App\Admin\UserAdmin
        arguments: [~, App\Entity\User, ~]
        tags:
            - { name: sonata.admin, group: Пользователи, manager_type: orm, label: Пользователи, on_top: true }
        public: true